# GateTools å¯é…ç½®æ¶ˆæ¯ç³»ç»Ÿå®žçŽ°

## æ¦‚è¿°

æˆåŠŸå®žçŽ°äº†GateToolsæ’ä»¶çš„å¯é…ç½®æ¶ˆæ¯ç³»ç»Ÿå’Œå†…å­˜æ³„æ¼ç›‘æŽ§åŠŸèƒ½ï¼Œæ»¡è¶³ç”¨æˆ·çš„æ‰€æœ‰éœ€æ±‚ã€‚

## ðŸŽ¯ å®žçŽ°çš„åŠŸèƒ½

### 1. å¯é…ç½®æ¶ˆæ¯ç³»ç»Ÿ

#### æ ¸å¿ƒç‰¹æ€§
- **å®Œå…¨å¯é…ç½®**: æ‰€æœ‰èŠå¤©æ è¾“å‡ºæ¶ˆæ¯éƒ½ä¿å­˜åœ¨ `messages.yml` æ–‡ä»¶ä¸­
- **å ä½ç¬¦æ”¯æŒ**: æ”¯æŒä»¥ä¸‹å ä½ç¬¦ï¼š
  - `%message_cost_money%` - èŠ±è´¹é‡‘é’±
  - `%message_cost_experience%` - èŠ±è´¹ç»éªŒ
  - `%message_need_money%` - éœ€è¦é‡‘é’±
  - `%message_need_experience%` - éœ€è¦ç»éªŒ
  - `%message_need_permission%` - éœ€è¦æƒé™
- **æ¯”è¾ƒç¬¦å·è‡ªåŠ¨è½¬æ¢**:
  - `=` â†’ éœ€è¦
  - `!=` â†’ ä¸éœ€è¦
  - `>` â†’ å¤§äºŽ
  - `>=` â†’ å¤§äºŽç­‰äºŽ
  - `<` â†’ å°äºŽ
  - `<=` â†’ å°äºŽç­‰äºŽ

#### æ–‡ä»¶ç»“æž„
```yaml
# messages.yml
prefix: "&8[&6GateTools&8] &r"

success:
  gate-created: "&aæˆåŠŸåˆ›å»ºä¼ é€åŒºåŸŸ &e%gate_name%"
  teleport-success: "&aä¼ é€æˆåŠŸï¼"

error:
  no-permission: "&cä½ æ²¡æœ‰æƒé™æ‰§è¡Œæ­¤å‘½ä»¤"
  gate-not-found: "&cä¼ é€åŒºåŸŸ &e%gate_name% &cä¸å­˜åœ¨"

teleport:
  confirm: "&aä½ å·²è¿›å…¥ä¼ é€åŒºåŸŸ &e%gate_name%&aï¼Œæ˜¯å¦ä¼ é€ï¼Ÿ"
  preparing: "&aæ­£åœ¨å‡†å¤‡ä¼ é€ï¼Œè¯·ç¨å€™..."

condition:
  permission-required: "&cä¼ é€éœ€è¦æƒé™: &e%message_need_permission%"
  money-insufficient: "&cé‡‘é’±ä¸è¶³ï¼éœ€è¦: &e%message_need_money%&cï¼Œå½“å‰: &e%current_money%"
  experience-cost: "&aæ‰£é™¤ç»éªŒ: &e%message_cost_experience%"

operators:
  "=": "éœ€è¦"
  "!=": "ä¸éœ€è¦"
  ">": "å¤§äºŽ"
  ">=": "å¤§äºŽç­‰äºŽ"
  "<": "å°äºŽ"
  "<=": "å°äºŽç­‰äºŽ"
```

### 2. å†…å­˜æ³„æ¼ç›‘æŽ§ç³»ç»Ÿ

#### ç›‘æŽ§ç‰¹æ€§
- **è‡ªåŠ¨ç›‘æŽ§**: æ’ä»¶å¯åŠ¨æ—¶è‡ªåŠ¨å¼€å§‹ç›‘æŽ§
- **å®šæœŸæ£€æŸ¥**: æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡å†…å­˜ä½¿ç”¨æƒ…å†µ
- **æ³„æ¼æ£€æµ‹**: 30åˆ†é’ŸåŽå¼€å§‹æ£€æŸ¥æ½œåœ¨å†…å­˜æ³„æ¼
- **è¯¦ç»†æŠ¥å‘Š**: æä¾›è¯¦ç»†çš„å†…å­˜ä½¿ç”¨ç»Ÿè®¡ä¿¡æ¯
- **è‡ªåŠ¨æ¸…ç†**: æ£€æµ‹åˆ°æ³„æ¼æ—¶è‡ªåŠ¨è§¦å‘åžƒåœ¾å›žæ”¶

#### ç›‘æŽ§æŒ‡æ ‡
- å †å†…å­˜ä½¿ç”¨é‡
- éžå †å†…å­˜ä½¿ç”¨é‡
- å†…å­˜å¢žé•¿è¶‹åŠ¿
- æ’ä»¶ç»„ä»¶ç»Ÿè®¡ï¼ˆä¼ é€é—¨æ•°é‡ã€ç©ºé—´ç´¢å¼•çŠ¶æ€ï¼‰

## ðŸ“ æ–°å¢žæ–‡ä»¶

### 1. MessageManager.java
- ä½ç½®: `src/main/java/org/plugin/gatetools/config/MessageManager.java`
- åŠŸèƒ½: ç®¡ç†å¯é…ç½®æ¶ˆæ¯ç³»ç»Ÿ
- ç‰¹æ€§:
  - æ¶ˆæ¯åŠ è½½å’Œé‡è½½
  - å ä½ç¬¦æ›¿æ¢
  - æ¯”è¾ƒç¬¦å·è½¬æ¢
  - å‰ç¼€ç®¡ç†

### 2. MemoryMonitor.java
- ä½ç½®: `src/main/java/org/plugin/gatetools/util/MemoryMonitor.java`
- åŠŸèƒ½: å†…å­˜æ³„æ¼ç›‘æŽ§
- ç‰¹æ€§:
  - å¼‚æ­¥ç›‘æŽ§ä»»åŠ¡
  - å†…å­˜ä½¿ç”¨ç»Ÿè®¡
  - æ³„æ¼æ£€æµ‹ç®—æ³•
  - è¯¦ç»†æŠ¥å‘Šç”Ÿæˆ

### 3. messages.yml
- ä½ç½®: `src/main/resources/messages.yml`
- åŠŸèƒ½: æ¶ˆæ¯é…ç½®æ–‡ä»¶
- å†…å®¹: å®Œæ•´çš„ä¸­æ–‡æ¶ˆæ¯é…ç½®ï¼Œæ”¯æŒæ‰€æœ‰å ä½ç¬¦

## ðŸ”§ ä¿®æ”¹çš„æ–‡ä»¶

### 1. ConfigManager.java
- é›†æˆ MessageManager
- æ›´æ–°æ¶ˆæ¯èŽ·å–æ–¹æ³•
- æ·»åŠ é‡è½½æ”¯æŒ

### 2. GateTools.java
- æ·»åŠ  MemoryMonitor å­—æ®µ
- å¯åŠ¨æ—¶åˆå§‹åŒ–å†…å­˜ç›‘æŽ§
- å…³é—­æ—¶åœæ­¢ç›‘æŽ§

## ðŸš€ ä½¿ç”¨æ–¹æ³•

### æ¶ˆæ¯è‡ªå®šä¹‰
1. ç¼–è¾‘ `plugins/GateTools/messages.yml` æ–‡ä»¶
2. ä½¿ç”¨ `/gatetools reload` é‡è½½é…ç½®
3. æ”¯æŒMinecrafté¢œè‰²ä»£ç ï¼ˆ&a, &c, &eç­‰ï¼‰

### å ä½ç¬¦ä½¿ç”¨ç¤ºä¾‹
```yaml
condition:
  money-required: "&cä¼ é€éœ€è¦é‡‘é’±: &e%message_need_money%"
  permission-denied: "&cä½ æ²¡æœ‰æƒé™: &e%message_need_permission%"
```

### å†…å­˜ç›‘æŽ§
- è‡ªåŠ¨è¿è¡Œï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®
- åœ¨ config.yml ä¸­è®¾ç½® `debug: true` æŸ¥çœ‹è¯¦ç»†ç›‘æŽ§ä¿¡æ¯
- æ£€æµ‹åˆ°å†…å­˜æ³„æ¼æ—¶ä¼šåœ¨æŽ§åˆ¶å°è¾“å‡ºè­¦å‘Š

## ðŸŽŠ æŠ€æœ¯äº®ç‚¹

### 1. é«˜æ•ˆçš„æ¶ˆæ¯ç³»ç»Ÿ
- æ”¯æŒåŠ¨æ€é‡è½½ï¼Œæ— éœ€é‡å¯æœåŠ¡å™¨
- å ä½ç¬¦æ›¿æ¢ç®—æ³•ä¼˜åŒ–
- å†…å­˜å‹å¥½çš„å­—ç¬¦ä¸²å¤„ç†

### 2. æ™ºèƒ½å†…å­˜ç›‘æŽ§
- åŸºäºŽJVM MemoryMXBeançš„ç²¾ç¡®ç›‘æŽ§
- è‡ªé€‚åº”åŸºçº¿è°ƒæ•´ç®—æ³•
- å¼‚æ­¥ç›‘æŽ§é¿å…å½±å“æ¸¸æˆæ€§èƒ½

### 3. å®Œæ•´çš„æœ¬åœ°åŒ–æ”¯æŒ
- ä¸­è‹±æ–‡åŒè¯­æ”¯æŒ
- ç¬¦å·è‡ªåŠ¨è½¬æ¢
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

## âœ… æµ‹è¯•éªŒè¯

æ’ä»¶å·²æˆåŠŸç¼–è¯‘å¹¶æ‰“åŒ…ï¼ŒåŒ…å«ä»¥ä¸‹éªŒè¯ï¼š
1. æ¶ˆæ¯ç³»ç»ŸåŠŸèƒ½æµ‹è¯•
2. å ä½ç¬¦æ›¿æ¢æµ‹è¯•
3. å†…å­˜ç›‘æŽ§å¯åŠ¨æµ‹è¯•
4. é…ç½®é‡è½½æµ‹è¯•

## ðŸ“¦ éƒ¨ç½²è¯´æ˜Ž

1. å°† `target/GateTools-1.0.jar` æ”¾å…¥æœåŠ¡å™¨ plugins æ–‡ä»¶å¤¹
2. å¯åŠ¨æœåŠ¡å™¨ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨åˆ›å»º `messages.yml` é…ç½®æ–‡ä»¶
3. æ ¹æ®éœ€è¦ç¼–è¾‘æ¶ˆæ¯é…ç½®
4. ä½¿ç”¨ `/gatetools reload` é‡è½½é…ç½®

æ’ä»¶çŽ°åœ¨å…·å¤‡äº†ä¼ä¸šçº§çš„æ¶ˆæ¯ç®¡ç†å’Œå†…å­˜ç›‘æŽ§èƒ½åŠ›ï¼Œä¸ºé•¿æœŸç¨³å®šè¿è¡Œæä¾›äº†ä¿éšœï¼ðŸŽ‰
